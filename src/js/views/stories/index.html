<div class="container">
  <section ng-model="animation" ng-hide="animation">
    <h1>A world of experimental wordplay</h1>

    
    {{vm.users}}
    <!-- <div ng-show="vm.showCarousel" ng-model="vm.showCarousel"> -->
    <div ng-model="main.showCarousel">

      <div ng-hide="vm.filtering" ng-repeat="stories in main.possibleGenres track by $index">
        <h2 ng-show="stories.exists">{{stories.genre}}</h2>

        <slick slides-to-show="2" slides-to-scroll="1" init-onload="true"  data="stories.stories" dots="true" arrows="true" rows="1" autoplay="false" >
          <div ng-repeat="story in stories.stories track by $index" >
            <img src="{{story.image}}" alt="">
            <h4 ui-sref="storiesShow({id: story._id})">{{story.title}}</h4>
            <a ui-sref="userShow({id: story.createdBy.id})">Created by {{story.createdBy.username}}</a>
          </div>
        </slick>
      </div>
    </div>

    <div ng-show="vm.filtering" ng-repeat="story in vm.all | filter: vm.q" class="col-sm-4">
      <div class="storyImage"
      style="background-image:url({{ story.image }})">
      <div class="rule">
        <p ng-show="story.rules.start">{{story.rules.start}} |</p>
      </div>
      <div class="rule">
        <p ng-show="story.rules.contain"><span class="brackets">(</span>{{story.rules.contain}} <span class="brackets">)</span></p>
      </div>
    </div>
    <h3>{{story.title}}</h3>
    <h4>By: <strong><a ui-sref="userShow({id: story.createdBy.id})">{{story.createdBy.username}}</a></strong></h4>
    <h5>{{ story.genre}}</h5>
    <h5>This story has {{story.contributions.length}} <span ng-if="story.contributions.length=1">contribution</span><span ng-if="story.contributions.length!=1">contributions</span></h5>
    </div>
</section>
</div>
